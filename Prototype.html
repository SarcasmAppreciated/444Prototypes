 <!DOCTYPE html>
<!--[if lt IE 7]><html class="lt-ie10 lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="lt-ie10 lt-ie9 lt-ie8"><![endif]-->
<!--[if IE 8]><html class="lt-ie10 lt-ie9"> <![endif]-->
<!--[if IE 9]><html class="lt-ie10"> <![endif]-->
<!--[if gt IE 9]><!--> <html> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <title>448 Medium Fidelity Prototype</title>
       
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="apple-mobile-web-app-capable" content="yes">
				
        <link href='https://fonts.googleapis.com/css?family=Oswald:300' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Lato:300' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="css/main.css">
		
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="js/auth.js"></script>
        <script src="js/playlist_updates.js"></script>
        <script src="https://apis.google.com/js/client.js?onload=googleApiClientReady"></script>
    </head>
    <body>
        <div id="phone">
            <div id="screen">
                <div class="full_screen" id="start_screen">
                    <div>
                        <div id="logo"></div>
                        <button class="start_screen_button" id="login-link"><p>Login</p></button>
                        <button class="start_screen_button" id="playlist-button" disabled onclick="createPlaylist()"><p>Create Playlist</p></button>
                    </div>
                </div>
                <div class="full_screen">
                    <h1 id="start_up">We're setting up things!</h1>
                    <br/>
                    <h1 class="fa fa-spin fa-gear fa-4x" style="color: #FFF;"></h1>
                </div>
                <div class="nav_bar" style="border-bottom: 1px solid #999;">
                    <div class="nav_button" id="search"><p>+ Add Songs</p></div>
                    <div class="nav_button" id="collaborate" style="background-color: #f76f2c; color: #FFF;"><p>Collaborate!</p></div>
                </div>
                <div id="collab_field">
                    <p>Share this link!</p>
                    <input value="" id="playlist-id"></input><div class="fa fa-check-square fa-2x"></div>
                </div>
                <div id="active_area">
                    <div id="search_area">
                        <div class="fa fa-search" style="color: #FFF; margin-right: 5px;"></div><input id="search_bar"></input>
                        <div id="results">
                            <div class="result_track" value="QtLXvh8mv3o" artist="ODESZA" track="SAY MY NAME (LUKE CHRISTOPHER REMIX)">
                                <p>ODESZA - SAY MY NAME (LUKE CHRISTOPHER REMIX)</p>
                            </div>
                            <div class="result_track" value="YykjpeuMNEk" artist="COLDPLAY" track="HYMM FOR THE WEEKEND">
                                <p>COLDPLAY - HYMM FOR THE WEEKEND</p>
                            </div>
                        </div>
                        <div class="fa fa-close fa-4x" id="cancel"></div>
                    </div>
                    <div id="playlist">                
                        <!--<div class="playlist_track">
                            <div class="track_num">></div>
                            <div class="track_pic"></div>
                            <div class="track_artist_song">
                                <h3 style="margin-top: 10px;">ODESZA</h3>
                                <h2>SAY MY NAME (FEAT. ZYRA)</h2>
                            </div>
                            <div class="track_rating">12</div>
                        </div>-->
                    </div>
                </div>
                <div class="nav_bar" style="height: 120px; background-color: #e6e6e6; border-top: 1px solid #999;">
                    
                    <div id="play" class="fa fa-play fa-2x"></div>
                    <div id="skip" class="fa fa-fast-forward fa-2x"></div>
                    
                    <!--<h2 style="margin-top: 10px;"><i>Now Playing</i> : ODESZA - SAY MY NAME</h2>-->
                </div>
            </div>            
        </div>
        <div id="player"></div>
        <script>        
            // https://developers.google.com/youtube/v3/code_samples/javascript
            // https://developers.google.com/youtube/v3/guides/implementation/playlists#playlistItems-update
            
            var isPlaying = false;
            var player;
            

            var tag = document.createElement('script');

            tag.src = "https://www.youtube.com/iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            
            function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                    height: '390',
                    width: '640',
                    playerVars: 
                    {
                        listType:'playlist',
                        list: 'PL5qjstFaIeLy-MxnFh9nKj3JRRLYACQxv'
                    },
                    events: {
                        'onReady': onPlayerReady
                    }
                });
            }

            function onPlayerReady(event) {
                $("#play").click(function(){
                    if(isPlaying) {
                        player.pauseVideo();
                        isPlaying = false;
                        $(".fa-play").removeClass("fa-pause");                        
                    } else {
                        player.playVideo();
                        isPlaying = true;
                        $(".fa-play").addClass("fa-pause");
                    }
                });
                
                $("#skip").click(function(){
                    // player.nextVideo();
                    
                    player.loadPlaylist({list: getPlaylistID(),
                        listType:"playlist",
                        index:0,
                        startSeconds:0,
                        suggestedQuality:"default"});
                });
            }
            
            
            $( document).ready(function (){            
                $("#playlist-button").click(function(){
                    $("#start_screen").fadeOut("slow", function(){
                        $(".full_screen").delay(500).fadeOut("slow");
                    });                    
                });                
            
                $("#search").click(function(){
                    $(this).css({"background-color" : "#222", "color" : "#FFF"});
                    $("#search_area").fadeIn("slow");
                    $("#collab_field").fadeOut("slow");
                })
                
                var count = 1;
                
                $(".result_track").click(function(){
                    var trackID = $(this).attr("value")
                    addVideoToPlaylist(trackID);
                   
                    var artist = $(this).attr("artist");
                    var track = $(this).attr("track");
                    
                    if(count == 1) {
                        
                        $("#playlist").append("<div class='playlist_track'><div class='track_num'>></div><div class='track_artist_song'><h3 style='margin-top: 10px;'>" + artist +"</h3><h2>" + track + "</h2></div><div class='track_rating'>0</div></div>");
                    } else
                        $("#playlist").append("<div class='playlist_track'><div class='track_num'>"+ count +"</div><div class='track_artist_song'><h3 style='margin-top: 10px;'>" + artist +"</h3><h2>" + track + "</h2></div><div class='track_rating'>0</div></div>");

                    count++;
                    hideSearch();
                });
              
                $("#cancel").click(function(){
                    hideSearch();
                });
                
                $("#collaborate").click(function(){
                    $("#collab_field").fadeIn("slow");
                });
                
                $(".fa-check-square").click(function(){
                    $("#collab_field").fadeOut("slow");
                });
                
                function hideSearch() {
                    $("#search_area").fadeOut("slow");
                    $("#search").css({"background-color" : "#e6e6e6", "color" : "#000"});
                }
            });
        </script>
    </body>
</html>
 
 
